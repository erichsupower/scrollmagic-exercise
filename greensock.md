# GreenSock

[GreenSock 英文官網](https://greensock.com/)
[對岸中文參考網站](https://www.tweenmax.com.cn/)

<!-- toc -->

- [GreenSock](#greensock)
  - [TweenMax 中文手冊章節劃分](#tweenmax-%e4%b8%ad%e6%96%87%e6%89%8b%e5%86%8a%e7%ab%a0%e7%af%80%e5%8a%83%e5%88%86)
    - [時間軸初始化及動畫管理](#%e6%99%82%e9%96%93%e8%bb%b8%e5%88%9d%e5%a7%8b%e5%8c%96%e5%8f%8a%e5%8b%95%e7%95%ab%e7%ae%a1%e7%90%86)
    - [時間軸初始設置](#%e6%99%82%e9%96%93%e8%bb%b8%e5%88%9d%e5%a7%8b%e8%a8%ad%e7%bd%ae)
    - [時間軸事件](#%e6%99%82%e9%96%93%e8%bb%b8%e4%ba%8b%e4%bb%b6)
    - [時間軸播放组件](#%e6%99%82%e9%96%93%e8%bb%b8%e6%92%ad%e6%94%be%e7%bb%84%e4%bb%b6)
    - [時間軸属性调整](#%e6%99%82%e9%96%93%e8%bb%b8%e5%b1%9e%e6%80%a7%e8%b0%83%e6%95%b4)
    - [時間軸对象属性](#%e6%99%82%e9%96%93%e8%bb%b8%e5%af%b9%e8%b1%a1%e5%b1%9e%e6%80%a7)
    - [時間軸对象方法](#%e6%99%82%e9%96%93%e8%bb%b8%e5%af%b9%e8%b1%a1%e6%96%b9%e6%b3%95)

<!-- tocstop -->

TweenLite / TweenMax 是 GreenSock 的核心動畫工具。

基本的動畫包含四個要素：動畫目標，啟點狀態，終點狀態，補間效果。
例如將一個 div 從 opacity：1 經過 5 秒鐘降低至 opacity：0

```js
TweenLite.fromTo('div', 5, {opacity:1}, {opacity:0});
//動畫目標：div
//補間：5秒完成狀態改變
//起點狀態：opacity:1
//終點狀態：opacity:0
```

起點狀態經常可以省略，例如div以當前位置為起點，向右移動300px：

```js
TweenLite.to('div', 5, {x:300});
```

**TweenMax.min.js** 已經包含 CSS 屬性動畫的支援插件(CSSPlugin)。如果使用 **TweenLite.min.js**，需要另外加載**CSSPlugin.min.js**。

## TweenMax 中文手冊章節劃分

- 01節-動畫結構：
設置動畫目標和起點，終點狀態的動畫的結構化方法
- 02節-動畫初始設置：
對動畫進行一些初始化設置，如重複次數（repeat）緩動方式（ease）等
- 03節-介紹動畫事件函數：
如開始事件（onStart），結束事件（onComplete），返回事件（onReverseComplete）等
- 04節-動畫播放組件：
動畫控制組件如播放（play），暫停（pause），重新播放（restart）等
- 05節-動畫屬性調整：
可以獲取到的動畫屬性以及調整他們的方法，如動畫時長（time），播放進度（progress）
- 06節-實例屬性：
介紹了 TweenLite / TweenMax 實例的屬性設置，如設置選擇器，讀取時間軸等
- 07節-實例方法：
介紹 TweenLite / TweenMax 實例的函數方法，如刪除動畫，動畫渲染

### 時間軸初始化及動畫管理
|                   | 說明                                                                                                                                                                                                                      | 了解更多 |
| ----------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| TimelineMax()     | 構建一個TimelineMax實例，創建時間軸。                                                                                                                                                                                     | 了解更多 |
| .add()            | 向時間軸添加動畫、其他時間軸、回調函數或標籤（或它們的陣列）。                                                                                                                                                            | 了解更多 |
| .addLabel()       | 在時間軸上添加一個標記，便於標記重要位置/時間。                                                                                                                                                                           | 了解更多 |
| .addPause()       | 在時間軸上添加一個暫停點。                                                                                                                                                                                                | 了解更多 |
| .remove()         | 從時間軸上移除一個動畫、時間軸、函數或標籤(或者他們的數組)。                                                                                                                                                              | 了解更多 |
| .removeCallBack() | 從特定位置移除回調函數。如果沒有設置時間點或者標記，則移除所有該回調函數。                                                                                                                                                | 了解更多 |
| .removeLabel()    | 從時間軸中刪除標記。也可以使用remove()方法來移除。                                                                                                                                                                        | 了解更多 |
| .removePause()    | 刪除透過TimelineMax.addPause() 添加到時間軸的暫停點。                                                                                                                                                                     | 了解更多 |
| .to()             | 添加一個TweenLite.to()動畫到時間軸，相當於add(TweenLite.to(...))                                                                                                                                                          | 了解更多 |
| .from()           | 添加一個TweenLite.from()動畫到時間軸，相當於add(TweenLite.from(...))                                                                                                                                                      | 了解更多 |
| .fromTo()         | 添加一個TweenLite.fromTo()動畫到時間軸，相當於add(TweenLite.fromTo(...))                                                                                                                                                  | 了解更多 |
| .staggerTo()      | 為一組目標設定相同的終點變化屬性，但是錯開一定的時間，創建成一個間隔均勻的動畫序列。將此動畫序列添加到時間軸。                                                                                                            | 了解更多 |
| .staggerFrom()    | 為一組目標設定相同的起點變化屬性，但是錯開一定的時間，創建成一個間隔均勻的動畫序列。將此動畫序列添加到時間軸。                                                                                                            | 了解更多 |
| .staggerFromTo()  | 為一組目標設定相同的起點和終點變化屬性，但是錯開一定的時間，創建成一個間隔均勻的動畫序列。                                                                                                                                | 了解更多 |
| .set()            | 將零持續時間的動畫添加到時間軸的末尾（或使用“位置”參數的其他位置）立即設置值（當虛擬播放頭到達時間軸上的該位置時）。<br>這是一種方便的方法，可以完成同樣類似於 add( TweenLite.to(target, 0, {...}) ) 的事情，但代碼較少。 | 了解更多 |


### 時間軸初始設置

|                    | 說明                                                                                                                                                                                                                                                                                                       | 了解更多 |
| ------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| delay              | 時間軸動畫開始之前的延遲秒數（或幀數）。 restart()無視delay。                                                                                                                                                                                                                                              | 了解更多 |
| paused             | 如果設置為true，時間軸將在創建時立即暫停。默認false                                                                                                                                                                                                                                                        | 了解更多 |
| useFrames          | 當設置為true時，這個時間軸的時間模式基於幀而不是秒，一般幀速約為16.66ms（60幀/秒）。                                                                                                                                                                                                                       | 了解更多 |
| tweens             | 要將多個動畫一起插入時間軸（TweenLite / TweenMax / TimelineLite / TimelineMax），可使用tweens屬性，<br>這比使用add()要簡潔。你可以將此選項與align 和stagger 屬性結合使用，以使用最少的代碼設置複雜序列。                                                                                                   | 了解更多 |
| stagger            | 僅與tweens屬性一起使用。它將tweens內的動畫錯開了一定的秒數（或幀），默認值為0。                                                                                                                                                                                                                            | 了解更多 |
| align              | 僅與tweens屬性一起使用，設置tweens內的動畫的對齊方式，默認為"normal"。align不強制所有tweens/子時間軸保持相對定位，<br>因此，例如你使用"sequence"，然後更改其中一個嵌套動畫的持續時間，它不會強制所有後續動畫更改其在時間軸的位置。<br> align僅影響最初通過vars對象的tweens屬性放入時間軸的動畫的對齊方式。 | 了解更多 |
| autoRemoveChildren | 如果autoRemoveChildren設置為true，則一旦子動畫/時間軸完成，它們將自動被移除。<br>這通常是不可取的，因為子動畫可以防止時間後退（如果您想要reverse()或將進度設置得更低等等）。<br>但是，它可以提高速度和內存管理。 <br>autoRemoveChildren的默認設置是：false（除了根時間軸）。                               | 了解更多 |
| smoothChildTiming  | 控制是否自動重新定位子動畫/時間軸（更改其startTime），以便在動態更改屬性時保持平滑播放。<br>這些屬性包括 `reversed`, `timeScale`, `progress`, `totalProgress`, `time`, `totalTime`, `delay`, `pause`, `resume`, `duration`, `totalDuration`。                                                              | 了解更多 |
| repeat             | 動畫在第一次完成後應重複的次數。<br>例如，如果repeat為1，則動畫將總共播放兩次（初始播放加1次重複）。要無限重複，請使用-1。 repeat應該始終是一個整數。                                                                                                                                                      | 了解更多 |
| repeatDelay        | 每次repeat之間的秒數（或幀）。<br>例如，如果repeat是2並且repeatDelay是1，則動畫將首先播放，然後在重複之前等待1秒，然後再次播放，然後再等待1秒再進行最後的重複。                                                                                                                                            | 了解更多 |
| yoyo               | 如果設置yoyo為true，那麼重複的動畫將往返進行。默認為false。<br>例如當你設置了repeat: 2，如果沒設置yoyo，那麼動畫是這樣的123-123-123 如果設置了yoyo，動畫則是123-321-123                                                                                                                                    | 了解更多 |
| callbackScope      | 用於所有回調的範圍（onStart，onUpdate，onComplete等）。範圍是“this”在任何回調中引用的內容。<br>舊的回調特定範圍屬性（onStartScope，onUpdateScope，onCompleteScope，onReverseComplete等）已棄用但仍然有效。                                                                                                 | 了解更多 |


### 時間軸事件

|                         | 說明                                                                                                                                | 了解更多 |
| ----------------------- | ----------------------------------------------------------------------------------------------------------------------------------- | -------- |
| onStart                 | 當時間軸開始時執行的回調函數。<br>當前時間軸設置的delay會影響onStart的執行，但時間軸內的動畫的delay不會影響動畫在時間軸的開始時間。 |          |
| onStartParams           | 傳遞給`onStart`回調函數的參數數組                                                                                                   |          |
| onStartScope            | 定義`onStart`函數的作用域，即函數內`this`的指向。                                                                                   |          |
| onComplete              | 在時間軸結束時觸發此方法。                                                                                                          |          |
| onCompleteParams        | 傳遞給 onComplete 函數的參數數組。                                                                                                  |          |
| onCompleteScope         | 定義`onComplete`函數的作用域，即函數內`this`的指向。                                                                                |          |
| onReverseComplete       | 時間軸反向播放完成時執行。                                                                                                          |          |
| onReverseCompleteParams | 傳遞給`onReverseComplete`函數的參數數組。                                                                                           |          |
| onReverseCompleteScope  | 定義`onReverseComplete`函數的作用域，即函數內`this`的指向。                                                                         |          |
| onUpdate                | 當時間軸變化時(動畫進行中的每一幀)不停的觸發此函數。                                                                                |          |
| onUpdateParams          | 傳遞給onUpdate回調函數的參數數組                                                                                                    |          |
| onUpdateScope           | 定义`onUpdate`函数的作用域，即函数内`this`的指向。                                                                                  |          |
| onRepeat                | 在每次時間軸重複播放時(repeat)執行。                                                                                                |          |
| onRepeatParams          | 傳遞給`onRepeat`回調函數的參數數組。                                                                                                |          |
| onRepeatScope           | 定義`onRepeat`函數的作用域，即函數內`this`的指向。                                                                                  |          |

### 時間軸播放组件

|                | 說明                                                                                                                                                                                                  | 了解更多 |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| .play()        | 控制動畫往正方向播放，可設定開始的時間點。<br>如果suppressEvents保持默認狀態並跳到新的時間點，那麼之前在新舊時間點之間設置的回調或函數不會被觸發，相當於跳過了那些時間點。<br>如果想觸發，設為false。 | 了解更多 |
| .pause()       | 暫停時間軸，可選擇跳轉到特定時間。<br>如果suppressEvents保持默認狀態並跳到新的時間點，那麼之前在新舊時間點之間設置的回調或函數不會被觸發，相當於跳過了那些時間點。<br>如果想觸發，設為false。         | 了解更多 |
| .paused()      | 獲取或設置動畫的暫停狀態，該狀態指示動畫當前是否已暫停。                                                                                                                                              | 了解更多 |
| .restart()     | 重新開始動畫/重頭開始。                                                                                                                                                                               | 了解更多 |
| .resume()      | 恢復播放而不改變方向（前進或後退），可選擇首先跳到特定時間。                                                                                                                                          | 了解更多 |
| .reverse()     | 控制動畫反向播放。動畫的各種表現都會反轉，例如ease。                                                                                                                                                  | 了解更多 |
| .reversed()    | 獲取或設置動畫的反轉狀態，指示是否應該反向播放動畫。                                                                                                                                                  | 了解更多 |
| .seek()        | 不改變狀態（播放、暫停、方向）的情況下直接跳轉到某個時間點。                                                                                                                                          | 了解更多 |
| .timeScale()   | 獲取/設定動畫速度，默認為1。 例如0.5為慢速，2為快速。<br>如果設置則返回此時間軸便於鍊式調用。如不設置則返回時間調節比例。                                                                             | 了解更多 |
| .tweenTo()     | 創建一個線性動畫，將時間軸播放到特定時間或標籤，然後停止。                                                                                                                                            | 了解更多 |
| .tweenFromTo() | 創建一個線性動畫，將時間軸從某時間或標籤播放到指定時間或標籤，然後停止。                                                                                                                              | 了解更多 |

### 時間軸属性调整

|                  | 說明                                                                                                                                                                                                                                                                                | 了解更多 |
| ---------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| .delay()         | 獲取或者設置時間軸的開始延遲秒數（幀）。                                                                                                                                                                                                                                            | 了解更多 |
| .repeat()        | 獲取或設置時間軸在第一次完成後應該重複的次數。<br>例如，如果 repeat 是1，則時間軸將總共播放兩次（初始播放加1次重複）。要無限重複，請使用-1。<br>repeat 應該始終是一個整數。 要使重複在前進和後退之間yoyo 切換，請設置 為 yoyo: true。要在重複之間添加時間間隔，請使用 repeatDelay。 | 了解更多 |
| .repeatDelay()   | 獲取或設置重複之間的秒數（或基於幀的時間軸的幀）的時間量。例如，如果 repeat 是2並且 repeatDelay 是1，則時間軸將首先播放，然後在重複之前等待1秒，然後再播放，然後等待1秒鐘，然後再進行最後的重複。                                                                                   | 了解更多 |
| .duration()      | 獲取或設置時間軸的持續時間。                                                                                                                                                                                                                                                        | 了解更多 |
| .totalDuration() | 獲取或設置總的時間軸持續時間。                                                                                                                                                                                                                                                      | 了解更多 |
| .progress()      | 獲取或者設置時間軸的進程，返回該時間軸以便鍊式調用。時間軸的進程為開始時是0，到終點時是1。                                                                                                                                                                                          | 了解更多 |
| .totalProgress() | 獲取或設置總的時間軸進程。                                                                                                                                                                                                                                                          | 了解更多 |
| .time()          | 獲取或設置當前位置的時間點。                                                                                                                                                                                                                                                        | 了解更多 |
| .totalTime()     | 獲取或設置當前位置在總的時間軸中的時間。                                                                                                                                                                                                                                            | 了解更多 |
| .endTime()       | 獲取時間軸的結束時間。                                                                                                                                                                                                                                                              | 了解更多 |
| .startTime()     | 獲取或設置某個動畫在其父時間軸上的起始時間                                                                                                                                                                                                                                          | 了解更多 |
| .yoyo()          | 獲取或設置時間軸的yoyo狀態，其中true表示時間軸每次重複時交替來回播放。                                                                                                                                                                                                              | 了解更多 |

### 時間軸对象属性

|                     | 說明                                                                                                                                                                                                                                           | 了解更多 |
| ------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| .autoRemoveChildren | 如果設置為true，則子動畫/時間軸在完成時會被自動移除（默認為false，除了根時間軸）。                                                                                                                                                             | 了解更多 |
| .data               | 用於儲存或者讀取任何你想要的數據。                                                                                                                                                                                                             | 了解更多 |
| .smoothChildTiming  | 控制是否自動重新定位子動畫/時間軸（更改其startTime），以便在動態更改屬性時保持平滑播放。<br>這些屬性包括 `reversed`, `timeScale`, `progress`, `totalProgress`, `time`, `totalTime`, `delay`, `pause`, `resume`, `duration`, `totalDuration` 。 | 了解更多 |
| .timeline           | 獲取父時間軸，所有的動畫都依附於時間軸（默認是根時間軸），並只能有一個父時間軸。                                                                                                                                                               | 了解更多 |

### 時間軸对象方法

|     | 說明 | 了解更多 |
| --- | ---- | -------- |
|     |      |          |
|     |      |          |